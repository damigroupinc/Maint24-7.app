{"version":3,"sources":["src/app/changepass/changepass.page.html","src/app/changepass/changepass.module.ts","src/app/changepass/changepass.page.scss","src/app/changepass/changepass.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>  \\n    <ion-title>{{ global.name }} Change Password</ion-title>\\n  </ion-toolbar>\\n</ion-header> \\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label>Current Password: <br /></ion-label>\\n        <ion-input #inputCurrent     \\n          placeholder='current password' \\n          name='currentpassword' \\n          id='currentpassword' \\n          type='password' \\n          required \\n          [(ngModel)]='currentpassword' \\n          style=\\\"background-Color: '#red';\\\"\\n          (focusout)='checkCurrentPassword(inputCurrent)'>\\n          <!-- ionBlur work for focus out -->\\n        </ion-input>\\n      </ion-item>\\n      \\n      <ion-item>\\n        <ion-label>New Password: <br ></ion-label>\\n        <ion-input #inputnew\\n          password\\n          placeholder='newpassword' name='newpassword' id='newpassword' type='password' required [(ngModel)]='newpassword'>\\n        </ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>Confirm Password: <br ></ion-label>\\n        <ion-input  #inputConfirm\\n          password\\n          placeholder='confirmpassword' name='confirmpassword' id='confirmpassword' type='password' required [(ngModel)]='confirmpassword'\\n          style=\\\"background-Color: '#red';\\\"\\n          (focusout)='checkConfirmPassword(inputnew)'>\\n        </ion-input>\\n      </ion-item>\\n\\n      <ion-button color=\\\"success\\\" class=\\\"pt-xs--4\\\" ion-button                   \\n        (click)=\\\"changePasswordUser()\\\">\\n        <ion-icon name=\\\"checkmark-circle\\\" size=\\\"small\\\"></ion-icon>\\n        Change Your Password\\n      </ion-button>\\n\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangepassPage } from './changepass.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangepassPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangepassPage]\n})\nexport class ChangepassPageModule {}\n","export default \"ion-content {\\n  --ion-background-color:rgba(202, 228, 245, 0.377);\\n  --color:rgb(94, 221, 235) 0%;\\n}\\n\\nimg {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n  border-radius: 5%;\\n}\\n\\nion-card, .card-ios, .card-md {\\n  background: #adeeee 80% !important;\\n  border-radius: 20px !important;\\n  border-top: 1px solid #a4ddc2 !important;\\n  border-right: 1px solid #a4ddc2 !important;\\n  border-left: 1px solid #a4ddc2 !important;\\n  border-bottom: 2px solid #a4ddc2 !important;\\n  box-shadow: 20;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhbmdlcGFzcy9DOlxcY3VzdG9tZXJzXFxtYWludDI0N1xcbWFpbnQyNC03LmFwcC9zcmNcXGFwcFxcY2hhbmdlcGFzc1xcY2hhbmdlcGFzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2NoYW5nZXBhc3MvY2hhbmdlcGFzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpREFBQTtFQUNBLDRCQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFQTtFQUNJLGtDQUFBO0VBQ0EsOEJBQUE7RUFDQSx3Q0FBQTtFQUNBLDBDQUFBO0VBQ0EseUNBQUE7RUFDQSwyQ0FBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9jaGFuZ2VwYXNzL2NoYW5nZXBhc3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQgeyBcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgyMDIsIDIyOCwgMjQ1LCAwLjM3Nyk7XHJcbiAgICAtLWNvbG9yOnJnYig5NCwgMjIxLCAyMzUpIDAlO1xyXG59XHJcbiAgXHJcbmltZyB7XHJcbiAgICBwYWRkaW5nLXRvcDogMnB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUlO1xyXG59XHJcbiAgICBcclxuaW9uLWNhcmQsIC5jYXJkLWlvcywgLmNhcmQtbWQge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDE3MywgMjM4LCAyMzgpIDgwJSAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLXJhZGl1czoyMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiKDE2NCwgMjIxLCAxOTQpICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2IoMTY0LCAyMjEsIDE5NCkgIWltcG9ydGFudDtcclxuICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgcmdiKDE2NCwgMjIxLCAxOTQpICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgcmdiKDE2NCwgMjIxLCAxOTQpICFpbXBvcnRhbnQ7XHJcbiAgICBib3gtc2hhZG93OiAyMDtcclxuICAgIGNvbG9yOiBibGFjaztcclxufSAiLCJpb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgyMDIsIDIyOCwgMjQ1LCAwLjM3Nyk7XG4gIC0tY29sb3I6cmdiKDk0LCAyMjEsIDIzNSkgMCU7XG59XG5cbmltZyB7XG4gIHBhZGRpbmctdG9wOiAycHg7XG4gIHBhZGRpbmctYm90dG9tOiAycHg7XG4gIGJvcmRlci1yYWRpdXM6IDUlO1xufVxuXG5pb24tY2FyZCwgLmNhcmQtaW9zLCAuY2FyZC1tZCB7XG4gIGJhY2tncm91bmQ6ICNhZGVlZWUgODAlICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHggIWltcG9ydGFudDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNhNGRkYzIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2E0ZGRjMiAhaW1wb3J0YW50O1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNhNGRkYzIgIWltcG9ydGFudDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNhNGRkYzIgIWltcG9ydGFudDtcbiAgYm94LXNoYWRvdzogMjA7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nimport { GlobalService } from '../global.service';\n\n@Component({\n  selector: 'app-changepass',\n  templateUrl: './changepass.page.html',\n  styleUrls: ['./changepass.page.scss'],\n})\nexport class ChangepassPage implements OnInit {\n\n  public postData: any;\n  public userData: any;\n  public photo: string = '';\n  public currentpassword: string = '';\n  public newpassword: string = '';\n  public confirmpassword: string = '';\n   \n  constructor(\n    private toastController: ToastController,\n    private router: Router,\n    public global: GlobalService,  \n    public http: HttpClient ) {}\n\n  ngOnInit() {\n    this.userData = this.getUser();\n  }\n  \n  ionViewDidEnter() {\n    this.userData = this.getUser();\n  }\n\n  checkCurrentPassword(inputCurrent){\n    if (this.userData.password !== this.currentpassword) {\n      this.presentToastErrorCurrentPassword();\n      inputCurrent.setFocus();      \n    }\n  }\n  \n  checkConfirmPassword(inputnew) {\n    if (this.newpassword !== this.confirmpassword) {\n      this.presentToastErrorConfirmPassword();\n      inputnew.setFocus();\n    }\n  }\n\n  changePasswordUser() {\n    if (this.userData.password !== this.currentpassword) {\n      this.presentToastErrorCurrentPassword();     \n    } else {\n      if (this.newpassword !== this.confirmpassword) {\n        this.presentToastErrorConfirmPassword();     \n      } else {\n        this.postData = {\n          id_user: this.userData.id,\n          newpassord: this.newpassword\n        };               \n        this.http.put(this.global.urlServer + 'changePassword', this.postData).subscribe((data) => { \n          console.log('Starter Order was a success!'); \n          this.saveNovoLogin(); \n          this.presentToastOk();\n          this.router.navigateByUrl('/home');      \n        }, error => {\n          this.presentToastError();\n          console.log(error);\n        }\n      )}\n    }\n  }\n  \n  saveNovoLogin() {\n    this.postData = {\n      id_user: this.userData.id,\n      newpassord: this.newpassword\n    };                      \n    this.http.put(this.global.urlServer + 'changePassword', this.postData).subscribe((data) => { \n      console.log('Starter Order was a success!');  \n      let postData = {\n        \"id\": this.userData.id,\n        \"name\": this.userData.username,\n        \"classe\": this.userData.classe,\n        \"id_classe\": this.userData.id_classe,\n        \"password\": this.newpassword,\n        \"status\": this.userData.status\n      }\n      this.saveUser(postData);\n    });\n  }       \n  \n  async presentToastErrorCurrentPassword() {\n    const toast = await this.toastController.create({\n      message: \"Please, insert correct current password!\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'danger'\n    });\n    toast.present();\n  } \n  \n  async presentToastErrorConfirmPassword() {\n    const toast = await this.toastController.create({\n      message: \"Please, confirm new passoword!\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'danger'\n    });\n    toast.present();\n  } \n\n  async presentToastOk() {\n    const toast = await this.toastController.create({\n      message: \"It's ok. The new password saved!\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'success'\n    });\n    toast.present();\n  } \n\n  async presentToastError() {\n    const toast = await this.toastController.create({\n      message: \"Please make sure you're connected to the internet and try again.\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'danger'\n    });\n    toast.present();\n  } \n\n  saveUser($postData: any) {\n    localStorage.setItem('postLogin', JSON.stringify($postData));\n  }\n\n  getUser() {         \n    return JSON.parse(localStorage.getItem('postLogin'));\n  }\n\n}"],"sourceRoot":"webpack:///","file":"changepass-changepass-module-es5.js"}