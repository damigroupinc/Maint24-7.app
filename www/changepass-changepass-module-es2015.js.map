{"version":3,"sources":["./src/app/changepass/changepass.page.html","./src/app/changepass/changepass.module.ts","./src/app/changepass/changepass.page.scss","./src/app/changepass/changepass.page.ts"],"names":[],"mappings":"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","file":"changepass-changepass-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\n    </ion-buttons>  \\n    <ion-title>{{ global.name }} Change Password</ion-title>\\n  </ion-toolbar>\\n</ion-header> \\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label>Current Password: <br /></ion-label>\\n        <ion-input #inputCurrent     \\n          placeholder='current password' \\n          name='currentpassword' \\n          id='currentpassword' \\n          type='password' \\n          required \\n          [(ngModel)]='currentpassword' \\n          style=\\\"background-Color: '#red';\\\"\\n          (focusout)='checkCurrentPassword(inputCurrent)'>\\n          <!-- ionBlur work for focus out -->\\n        </ion-input>\\n      </ion-item>\\n      \\n      <ion-item>\\n        <ion-label>New Password: <br ></ion-label>\\n        <ion-input #inputnew\\n          password\\n          placeholder='newpassword' name='newpassword' id='newpassword' type='password' required [(ngModel)]='newpassword'>\\n        </ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label>Confirm Password: <br ></ion-label>\\n        <ion-input  #inputConfirm\\n          password\\n          placeholder='confirmpassword' name='confirmpassword' id='confirmpassword' type='password' required [(ngModel)]='confirmpassword'\\n          style=\\\"background-Color: '#red';\\\"\\n          (focusout)='checkConfirmPassword(inputnew)'>\\n        </ion-input>\\n      </ion-item>\\n\\n      <ion-button color=\\\"success\\\" class=\\\"pt-xs--4\\\" ion-button                   \\n        (click)=\\\"changePasswordUser()\\\">\\n        <ion-icon name=\\\"checkmark-circle\\\" size=\\\"small\\\"></ion-icon>\\n        Change Your Password\\n      </ion-button>\\n\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangepassPage } from './changepass.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangepassPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangepassPage]\n})\nexport class ChangepassPageModule {}\n","export default \"ion-content {\\n  --ion-background-color:rgba(202, 228, 245, 0.377);\\n  --color:rgb(94, 221, 235) 0%;\\n}\\n\\nimg {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n  border-radius: 5%;\\n}\\n\\nion-card, .card-ios, .card-md {\\n  background: #adeeee 80% !important;\\n  border-radius: 20px !important;\\n  border-top: 1px solid #a4ddc2 !important;\\n  border-right: 1px solid #a4ddc2 !important;\\n  border-left: 1px solid #a4ddc2 !important;\\n  border-bottom: 2px solid #a4ddc2 !important;\\n  box-shadow: 20;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY2hhbmdlcGFzcy9DOlxcY3VzdG9tZXJzXFxtYWludDI0N1xcbWFpbnQyNC03LmFwcC9zcmNcXGFwcFxcY2hhbmdlcGFzc1xcY2hhbmdlcGFzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2NoYW5nZXBhc3MvY2hhbmdlcGFzcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpREFBQTtFQUNBLDRCQUFBO0FDQ0o7O0FERUE7RUFDSSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFQTtFQUNJLGtDQUFBO0VBQ0EsOEJBQUE7RUFDQSx3Q0FBQTtFQUNBLDBDQUFBO0VBQ0EseUNBQUE7RUFDQSwyQ0FBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9jaGFuZ2VwYXNzL2NoYW5nZXBhc3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQgeyBcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgyMDIsIDIyOCwgMjQ1LCAwLjM3Nyk7XHJcbiAgICAtLWNvbG9yOnJnYig5NCwgMjIxLCAyMzUpIDAlO1xyXG59XHJcbiAgXHJcbmltZyB7XHJcbiAgICBwYWRkaW5nLXRvcDogMnB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDJweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUlO1xyXG59XHJcbiAgICBcclxuaW9uLWNhcmQsIC5jYXJkLWlvcywgLmNhcmQtbWQge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDE3MywgMjM4LCAyMzgpIDgwJSAhaW1wb3J0YW50O1xyXG4gICAgYm9yZGVyLXJhZGl1czoyMHB4ICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiKDE2NCwgMjIxLCAxOTQpICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2IoMTY0LCAyMjEsIDE5NCkgIWltcG9ydGFudDtcclxuICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQgcmdiKDE2NCwgMjIxLCAxOTQpICFpbXBvcnRhbnQ7XHJcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgcmdiKDE2NCwgMjIxLCAxOTQpICFpbXBvcnRhbnQ7XHJcbiAgICBib3gtc2hhZG93OiAyMDtcclxuICAgIGNvbG9yOiBibGFjaztcclxufSAiLCJpb24tY29udGVudCB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6cmdiYSgyMDIsIDIyOCwgMjQ1LCAwLjM3Nyk7XG4gIC0tY29sb3I6cmdiKDk0LCAyMjEsIDIzNSkgMCU7XG59XG5cbmltZyB7XG4gIHBhZGRpbmctdG9wOiAycHg7XG4gIHBhZGRpbmctYm90dG9tOiAycHg7XG4gIGJvcmRlci1yYWRpdXM6IDUlO1xufVxuXG5pb24tY2FyZCwgLmNhcmQtaW9zLCAuY2FyZC1tZCB7XG4gIGJhY2tncm91bmQ6ICNhZGVlZWUgODAlICFpbXBvcnRhbnQ7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHggIWltcG9ydGFudDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNhNGRkYzIgIWltcG9ydGFudDtcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2E0ZGRjMiAhaW1wb3J0YW50O1xuICBib3JkZXItbGVmdDogMXB4IHNvbGlkICNhNGRkYzIgIWltcG9ydGFudDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNhNGRkYzIgIWltcG9ydGFudDtcbiAgYm94LXNoYWRvdzogMjA7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nimport { GlobalService } from '../global.service';\n\n@Component({\n  selector: 'app-changepass',\n  templateUrl: './changepass.page.html',\n  styleUrls: ['./changepass.page.scss'],\n})\nexport class ChangepassPage implements OnInit {\n\n  public postData: any;\n  public userData: any;\n  public photo: string = '';\n  public currentpassword: string = '';\n  public newpassword: string = '';\n  public confirmpassword: string = '';\n   \n  constructor(\n    private toastController: ToastController,\n    private router: Router,\n    public global: GlobalService,  \n    public http: HttpClient ) {}\n\n  ngOnInit() {\n    this.userData = this.getUser();\n  }\n  \n  ionViewDidEnter() {\n    this.userData = this.getUser();\n  }\n\n  checkCurrentPassword(inputCurrent){\n    if (this.userData.password !== this.currentpassword) {\n      this.presentToastErrorCurrentPassword();\n      inputCurrent.setFocus();      \n    }\n  }\n  \n  checkConfirmPassword(inputnew) {\n    if (this.newpassword !== this.confirmpassword) {\n      this.presentToastErrorConfirmPassword();\n      inputnew.setFocus();\n    }\n  }\n\n  changePasswordUser() {\n    if (this.userData.password !== this.currentpassword) {\n      this.presentToastErrorCurrentPassword();     \n    } else {\n      if (this.newpassword !== this.confirmpassword) {\n        this.presentToastErrorConfirmPassword();     \n      } else {\n        this.postData = {\n          id_user: this.userData.id,\n          newpassord: this.newpassword\n        };               \n        this.http.put(this.global.urlServer + 'changePassword', this.postData).subscribe((data) => { \n          console.log('Starter Order was a success!'); \n          this.saveNovoLogin(); \n          this.presentToastOk();\n          this.router.navigateByUrl('/home');      \n        }, error => {\n          this.presentToastError();\n          console.log(error);\n        }\n      )}\n    }\n  }\n  \n  saveNovoLogin() {\n    this.postData = {\n      id_user: this.userData.id,\n      newpassord: this.newpassword\n    };                      \n    this.http.put(this.global.urlServer + 'changePassword', this.postData).subscribe((data) => { \n      console.log('Starter Order was a success!');  \n      let postData = {\n        \"id\": this.userData.id,\n        \"name\": this.userData.username,\n        \"classe\": this.userData.classe,\n        \"id_classe\": this.userData.id_classe,\n        \"password\": this.newpassword,\n        \"status\": this.userData.status\n      }\n      this.saveUser(postData);\n    });\n  }       \n  \n  async presentToastErrorCurrentPassword() {\n    const toast = await this.toastController.create({\n      message: \"Please, insert correct current password!\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'danger'\n    });\n    toast.present();\n  } \n  \n  async presentToastErrorConfirmPassword() {\n    const toast = await this.toastController.create({\n      message: \"Please, confirm new passoword!\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'danger'\n    });\n    toast.present();\n  } \n\n  async presentToastOk() {\n    const toast = await this.toastController.create({\n      message: \"It's ok. The new password saved!\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'success'\n    });\n    toast.present();\n  } \n\n  async presentToastError() {\n    const toast = await this.toastController.create({\n      message: \"Please make sure you're connected to the internet and try again.\",\n      animated: true,\n      mode: \"ios\",\n      duration: 800,\n      showCloseButton: true,\n      color: 'danger'\n    });\n    toast.present();\n  } \n\n  saveUser($postData: any) {\n    localStorage.setItem('postLogin', JSON.stringify($postData));\n  }\n\n  getUser() {         \n    return JSON.parse(localStorage.getItem('postLogin'));\n  }\n\n}"],"sourceRoot":"webpack:///"}